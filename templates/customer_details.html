<!DOCTYPE html>
<html>
<head>
    <title>Customer Details</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div id="header-placeholder"></div>
    <div class="container">
        <h2 id="form-title">Customer Registration</h2>
        <form id="custForm">
            <input type="hidden" id="custId" value="">
            <div class="form-group">
                <label>Customer Name</label>
                <input type="text" id="cname" required>
                
                <label>Contact Number</label>
                <input type="text" id="cphone" required>
                
                <label>Property</label>
                <select id="propSelect" required>
                    <option value="">-- Choose Available --</option>
                </select>
                
                <label>Billing Date</label>
                <input type="date" id="bdate" required>
            </div>
            
            <div class="btn-group">
                <button type="submit" id="saveBtn" class="btn-save">Add Customer</button>
                <button type="button" id="cancelEdit" class="btn-del" style="display:none;" onclick="location.reload()">Cancel</button>
            </div>
        </form>
        
        <hr style="margin: 40px 0; border: 0; border-top: 1px solid #eee;">
        
        <h3>Registered Customers</h3>
        <div class="toolbar">
            <input type="text" id="custSearchInput" placeholder="Search Customers..." onkeyup="filterTable('custTable', 'custSearchInput')">
            <div class="export-btns">
                <button onclick="downloadCSV('custTable', 'Customer_Records')" class="btn-edit">Excel</button>
                <button onclick="downloadPDF('custTable', 'Customer Records')" class="btn-save">PDF</button>
            </div>
        </div>

        <table id="custTable">
            <thead>
                <tr>
                    <th onclick="sortTable('custTable', 0)">Name ↕</th>
                    <th onclick="sortTable('custTable', 1)">Contact ↕</th>
                    <th onclick="sortTable('custTable', 2)">Property ↕</th>
                    <th onclick="sortTable('custTable', 3)">Billing Date ↕</th>
                    <th style="text-align:right;">Action</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <div id="qrModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeQR()">&times;</span>
            <h3>Customer QR Code</h3>
            <div id="qrcode"></div>
        </div>
    </div>

    <div id="footer-placeholder"></div>
    <script src="/static/script.js"></script>
</body>
</html>